ğŸš¨ Accident Detection and Emergency Response System

A CNN / YOLO-based Accident Detection System that analyzes uploaded videos to detect road accidents and automatically notify rescue teams via email.
The system also provides a dashboard with analytics, accident history, and detailed accident views.

ğŸ”— GitHub Repository

Clone the project from:

ğŸ‘‰ https://github.com/cherry368/accident-detection-emergency-response

ğŸ“Œ Project Background

âš ï¸ This project was initially collected in an early stage and later significantly enhanced, fixed, and extended.

Major improvements include backend stability, MongoDB Atlas integration, dashboard analytics, email alerts, and UI/UX improvements.

ğŸ§  System Architecture
Frontend (Next.js)
        â†“
Backend (Flask APIs)
        â†“
MongoDB Atlas (accident_results)
        â†“
Email Alert System (Gmail SMTP)
        â†“
Rescue Teams

ğŸ”¥ Major Updates & Improvements
âœ… Backend (Flask)

MongoDB Atlas integration

Standardized accident data schema

Fixed date aggregation & analytics issues

Added APIs:

/api/v1/accident/create

/api/v1/accident/all

/api/v1/accident/summary

/api/v1/accident/<id>

Implemented Quick Mail Alert System

Fixed circular imports using extensions pattern

Improved error handling

âœ… Frontend (Next.js)

Dashboard redesign (charts + cards)

Monthly accident analytics

All Datas table with real backend data

Color-coded severity indicators

Single Accident Detail page with:

Map view

Accident image

Quick Mail

Removed mock data and connected live APIs

âœ… ML / Video Processing

YOLOv8 for object detection

Frame extraction from uploaded videos

Accident detection pipeline connected to backend storage

ğŸ–¼ï¸ Accident Image Generation & Storage
How Accident Images Are Generated

Uploaded videos are analyzed using a YOLO-based accident detection model

When an accident is detected:

A relevant frame is extracted

Bounding boxes are drawn

The frame is saved as an accident snapshot

Images are generated only for accident-positive videos

Image Storage Logic

Images are:

Generated from uploaded videos (not from the internet)

Stored externally (e.g., Cloudinary or configured storage)

Linked to accident records using image_url

No image is stored for non-accident videos

ğŸ—‚ï¸ Database Schema (accident_results)
{
  "address": "MG Road",
  "city": "Bangalore",
  "latitude": 12.9716,
  "longitude": 77.5946,
  "severity": "High",
  "severityInPercentage": 65,
  "image_url": "generated_from_video_frame.jpg",
  "video_name": "uploaded_video.mp4",
  "date": "2024-03-02T23:23:47.000+00:00"
}

â–¶ï¸ How to Clone & Run the Project
1ï¸âƒ£ Clone the Repository
git clone https://github.com/cherry368/accident-detection-emergency-response.git
cd accident-detection-emergency-response

2ï¸âƒ£ Backend Setup (Flask)
cd server
python -m venv venv
venv\Scripts\activate      # Windows
# source venv/bin/activate # Linux/Mac

pip install -r requirements.txt

3ï¸âƒ£ Configure Environment Variables

Create a file:

server/.env


Add your own details:

# MongoDB
MONGO_URI=your_mongodb_atlas_connection_string

# JWT
JWT_SECRET_KEY=your_secret_key

# Email (Gmail SMTP)
EMAIL=your_email@gmail.com
PASSWORD=your_gmail_app_password
SENDTO=receiver_email@gmail.com

# Cloudinary (if used)
CLOUD_NAME=your_cloudinary_name
API_KEY=your_cloudinary_api_key
API_SECRET=your_cloudinary_api_secret


âš ï¸ Use Gmail App Password, not your Gmail login password.

4ï¸âƒ£ Run Backend
python app.py


Backend runs at:

http://127.0.0.1:8080

5ï¸âƒ£ Frontend Setup (Next.js)

Open a new terminal:

cd client
npm install
npm run dev


Frontend runs at:

http://localhost:3000

ğŸ“§ Quick Mail Feature

Available on Single Accident Details page

Sends accident alert email with:

Severity

Address

Coordinates

Google Maps link

Requires valid email credentials in .env

âš ï¸ Important Notes

Do not push .env to GitHub

Restart backend after changing .env

MongoDB Atlas must allow your IP

Accident images are generated from uploaded videos only

ğŸ§  Viva / Evaluation Explanation

â€œAccident images are generated by extracting frames from uploaded videos when an accident is detected, ensuring each image corresponds to a real incident rather than external sources.â€

ğŸš€ Future Enhancements

Real-time CCTV detection

SMS / WhatsApp alerts

Multi-rescue routing

Admin panel

Confidence score visualization

ğŸ‘¤ Credits & Note

Initial project structure obtained in early stage

Major backend, frontend, and integration work completed afterward

Current version is stable, demo-ready, and suitable for academic evaluation
